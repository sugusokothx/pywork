# タイピングゲーム仕様書

## ゲーム概要

英単語・英文を正確にタイピングして得点を競うゲームです。制限時間内にできるだけ多くの問題を正解することが目標です。

## ゲーム仕様

### 基本ルール
- **制限時間**: 60秒
- **出題形式**: 英文とその日本語訳が表示される
- **入力方式**: テキストボックスに英文を正確に入力してEnterキーで決定
- **得点方式**: 正解した問題数がスコアになる

### ゲームフロー

1. **初期化**
   - `words.json`から問題データを読み込み
   - 「読込中...」表示後、「開始」ボタンが有効化

2. **ゲーム開始**
   - スコア・タイマーを初期化（Score: 0, Timer: 60）
   - 入力欄が有効化され、フォーカス
   - ランダムに問題を出題
   - 「中断」ボタンが表示

3. **ゲームプレイ**
   - 英文と日本語訳を表示
   - プレイヤーが英文を入力してEnter
   - 正解判定とフィードバック表示
   - 正解時は次の問題へ、不正解時は同じ問題継続

4. **ゲーム終了**
   - 時間切れまたは「中断」ボタンで終了
   - 最終スコア表示
   - 「もう一度プレイ」ボタンでリスタート可能

### 判定ロジック

- **正解条件**: 入力値と表示英文が完全一致（大文字小文字区別なし、前後空白除去）
- **フィードバック**: 
  - 正解時: ○マーク（緑色）
  - 不正解時: ❌マーク（赤色）
  - 0.5秒間表示後、フェードアウト

### UI構成

#### メイン画面
- **ヘッダー**: タイマー、スコア、中断ボタン
- **フィードバック表示エリア**: 正解/不正解の結果表示
- **問題表示エリア**: 英文（黒字）
- **翻訳表示エリア**: 日本語訳（グレー文字）
- **入力欄**: テキストボックス
- **開始ボタン**: ゲーム開始用

#### 結果画面
- **結果表示**: 「時間切れ！」メッセージ
- **最終スコア表示**: 正解数
- **リスタートボタン**: 「もう一度プレイ」

## 問題データ構成

### ファイル形式
- **ファイル名**: `words.json`
- **形式**: JSON配列

### データ構造
```json
[
  {
    "en": "英文",
    "ja": "日本語訳"
  }
]
```

### 問題例
- "This is a pen." / "これはペンです。"
- "I play tennis." / "私はテニスをします。"
- "The quick brown fox jumps over the lazy dog." / "すばしっこい茶色のキツネが怠惰な犬を飛び越える。"
- "She is a software developer." / "彼女はソフトウェア開発者です。"
- "How are you doing?" / "調子はどうですか？"

## 技術仕様

### ファイル構成
- `index.html`: メインHTML構造
- `script.js`: ゲームロジック（133行）
- `style.css`: UI スタイリング
- `words.json`: 問題データ（10問）

### 主要機能

#### 初期化処理（initializeGame）
- words.jsonの非同期読み込み
- エラーハンドリング

#### ゲーム制御
- **startGame**: ゲーム開始処理
- **endGame**: ゲーム終了処理
- **countdown**: タイマー管理（1秒間隔）

#### 入力処理
- **checkInputOnEnter**: Enter キー入力時の正解判定
- 大文字小文字・前後空白を正規化して比較

#### 表示制御
- **showNewWord**: ランダム問題選択・表示
- **showFeedback**: 正解/不正解フィードバック（フェード効果付き）

### 状態管理
- `words`: 問題データ配列
- `score`: 現在のスコア
- `time`: 残り時間（秒）
- `isPlaying`: ゲーム実行中フラグ
- `timerInterval`: タイマー制御用interval

## 今後の拡張可能性

- 難易度レベル選択
- 単語別・文章別モード
- タイピング速度（WPM）表示
- 最高記録保存機能
- 問題カテゴリ分け
- タイピング音効果